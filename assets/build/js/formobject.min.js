!function(a){function b(b){if(b.data("form")){var c="/ef-api/"+b.data("form")+"/";b.data("entry")&&(c+=b.data("entry")+"/"),c+="?ef_instance="+(a(".engage_forms_form."+b.data("form")).length+1),b.data("width")?b.css({width:b.data("width")}):b.css({width:!1}),a.get(c,function(c){a("#modal-"+b.data("form")+"-content").html(c),resBaldrickTriggers(),"undefined"!=typeof engage_conditionals&&calders_forms_init_conditions()})}}if(a.fn.formJSON=function(){for(var b=a(this),c=b.find("[name]"),d={},e={},f=0;f<c.length;f++){var g=a(c[f]),h=g.prop("name").replace(/\]/gi,"").split("["),i=g.val(),j={};if(!g.is(":radio")&&!g.is(":checkbox")||g.is(":checked")){for(var k=h.length-1;k>=0;k--){var l=h[k];if(void 0===l&&(l=""),0===l.length&&(j=[],void 0===e[h[k-1]]?e[h[k-1]]=0:e[h[k-1]]+=1,l=e[h[k-1]]),k===h.length-1){if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if(isNaN(parseFloat(i))||parseFloat(i).toString()!==i)if("string"!=typeof i||"{"!==i.substr(0,1)&&"["!==i.substr(0,1)){if("object"==typeof i&&i.length&&g.is("select")){for(var m={},k=0;k<i.length;k++)m["n"+k]=i[k];i=m}}else try{i=JSON.parse(i)}catch(a){}else i=parseFloat(i);j[l]=i}else{var n=j;j={},j[l]=n}}a.extend(!0,d,j)}}return d},a(".engage_forms_form").on("click",".ef-form-trigger",function(b){var c=a(this);form=c.closest("form.engage_forms_form"),form_id=form.prop("id"),engageforms=window[form_id],data=form.formJSON(),fields={},target=c.data("target");for(var d in engageforms)fields[engageforms[d].slug]=data[d];if("function"==typeof window[target])window[target](fields,b);else{try{var e=a(target)}catch(a){}if(e&&e.length){fields=JSON.stringify(fields);var f=["textarea","text","hidden"];e.each(function(b,c){this.type&&f.indexOf(this.type)>=0?a(this).val(fields).trigger("change"):this.innerHTML=fields})}else a.post(target,fields)}}),efModals){var c=a("head"),d=a("body");for(var e in efModals.style)a("#ef-"+e+"-styles-css").length||c.append('<link id="ef-'+e+'-styles-css" rel="stylesheet" type="text/css" href="'+efModals.style[e]+'">');for(var f in efModals.script)a('script[src^="'+efModals.script[f]+'"]').length||null===efModals.script[f]||d.append('<script src="'+efModals.script[f]+'" type="text/javascript">');a(".engage-forms-modal").each(function(){var c=a(this),d=c.data("form"),e="";c.data("entry")&&(e+='data-entry="'+c.data("entry")+'"'),c.data("width")&&(e+='data-width="'+c.data("width")+'"'),a("body").append('<div class="remodal" data-form="'+d+'" '+e+' data-remodal-id="modal-'+d+'" id="modal-'+d+'"><button data-remodal-action="close" class="remodal-close"></button><div class="modal-content" id="modal-'+d+'-content"><span class="engage-grid ef_processing ef_modal"></span></div></div>'),b(a("#modal-"+d))}),a(document).on("opened",".remodal",function(){a(document).trigger("ef.modal",a(this))}),a(document).on("ef.submission",function(c,d){setTimeout(function(){var c=a('[data-remodal-id="modal-'+d.data.form_id+'"]').remodal();b(c.$modal),"opened"===c.getState()&&c.close()},1500)})}}(jQuery),function(a){function b(b){if(b.data("form")){var c="/ef-api/"+b.data("form")+"/";b.data("entry")&&(c+=b.data("entry")+"/"),c+="?ef_instance="+(a(".engage_forms_form."+b.data("form")).length+1),b.data("width")?b.css({width:b.data("width")}):b.css({width:!1}),a.get(c,function(c){a("#modal-"+b.data("form")+"-content").html(c),resBaldrickTriggers(),"undefined"!=typeof engage_conditionals&&calders_forms_init_conditions()})}}if(a.fn.formJSON=function(){for(var b=a(this),c=b.find("[name]"),d={},e={},f=0;f<c.length;f++){var g=a(c[f]),h=g.prop("name").replace(/\]/gi,"").split("["),i=g.val(),j={};if(!g.is(":radio")&&!g.is(":checkbox")||g.is(":checked")){for(var k=h.length-1;k>=0;k--){var l=h[k];if(void 0===l&&(l=""),0===l.length&&(j=[],void 0===e[h[k-1]]?e[h[k-1]]=0:e[h[k-1]]+=1,l=e[h[k-1]]),k===h.length-1){if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if(isNaN(parseFloat(i))||parseFloat(i).toString()!==i)if("string"!=typeof i||"{"!==i.substr(0,1)&&"["!==i.substr(0,1)){if("object"==typeof i&&i.length&&g.is("select")){for(var m={},k=0;k<i.length;k++)m["n"+k]=i[k];i=m}}else try{i=JSON.parse(i)}catch(a){}else i=parseFloat(i);j[l]=i}else{var n=j;j={},j[l]=n}}a.extend(!0,d,j)}}return d},a(".engage_forms_form").on("click",".ef-form-trigger",function(b){var c=a(this);form=c.closest("form.engage_forms_form"),form_id=form.prop("id"),engageforms=window[form_id],data=form.formJSON(),fields={},target=c.data("target");for(var d in engageforms)fields[engageforms[d].slug]=data[d];if("function"==typeof window[target])window[target](fields,b);else{try{var e=a(target)}catch(a){}if(e&&e.length){fields=JSON.stringify(fields);var f=["textarea","text","hidden"];e.each(function(b,c){this.type&&f.indexOf(this.type)>=0?a(this).val(fields).trigger("change"):this.innerHTML=fields})}else a.post(target,fields)}}),efModals){var c=a("head"),d=a("body");for(var e in efModals.style)a("#ef-"+e+"-styles-css").length||c.append('<link id="ef-'+e+'-styles-css" rel="stylesheet" type="text/css" href="'+efModals.style[e]+'">');for(var f in efModals.script)a('script[src^="'+efModals.script[f]+'"]').length||null===efModals.script[f]||d.append('<script src="'+efModals.script[f]+'" type="text/javascript">');a(".engage-forms-modal").each(function(){var c=a(this),d=c.data("form"),e="";c.data("entry")&&(e+='data-entry="'+c.data("entry")+'"'),c.data("width")&&(e+='data-width="'+c.data("width")+'"'),a("body").append('<div class="remodal" data-form="'+d+'" '+e+' data-remodal-id="modal-'+d+'" id="modal-'+d+'"><button data-remodal-action="close" class="remodal-close"></button><div class="modal-content" id="modal-'+d+'-content"><span class="engage-grid ef_processing ef_modal"></span></div></div>'),b(a("#modal-"+d))}),a(document).on("opened",".remodal",function(){a(document).trigger("ef.modal",a(this))}),a(document).on("ef.submission",function(c,d){setTimeout(function(){var c=a('[data-remodal-id="modal-'+d.data.form_id+'"]').remodal();b(c.$modal),"opened"===c.getState()&&c.close()},1500)})}}(jQuery);